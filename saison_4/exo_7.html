<!DOCTYPE HTML>
<html>
<head>
	<title>Algorithme - Saison 4 - Exo 7</title>
	<?php include "../commun/head.html" ?>
	
	<script src="../js/saison4.js"></script>



</head>

<body>

    <div id="page">

        <!--header start -->
        <header>
			<?php include "../commun/header.html" ?>
        </header>
        <!--header end-->
		


        <!--nav start -->
        <nav>
			<?php include "../commun/nav.html" ?>
        </nav>
        <!--nav end-->



        <!--section start -->
		<section>


			<div>
				<h2>Saison 4 - Exercice 7</h2>
				<h3>Enoncé</h3>
				<p class="p_blue">&laquo; Une compagnie d'assurance automobile propose à ses clients quatre familles de tarifs identifiables par une couleur,
					du moins au plus onéreux : tarifs bleu, vert, orange et rouge. Le tarif dépend de la situation du conducteur :</br></br>
					- un conducteur de moins de 25 ans et titulaire du permis depuis moins de deux ans, se voit attribuer
					le tarif rouge, si toutefois il n'a jamais été responsable d'accident. Sinon, la compagnie refuse de l'assurer.</br>
					- un conducteur de moins de 25 ans et titulaire du permis depuis plus de deux ans, ou de plus de 25
					ans mais titulaire du permis depuis moins de deux ans a le droit au tarif orange s'il n'a jamais provoqué
					d'accident, au tarif rouge pour un accident, sinon il est refusé.</br>
					- un conducteur de plus de 25 ans titulaire du permis depuis plus de deux ans bénéficie du tarif vert s'il
					n'est à l'origine d'aucun accident et du tarif orange pour un accident, du tarif rouge pour deux accidents, et
					refusé au-delà.</br>
					- De plus, pour encourager la fidélité des clients acceptés, la compagnie propose un contrat de la
					couleur immédiatement la plus avantageuse s'il est entré dans la maison depuis plus de cinq ans. Ainsi, s'il
					satisfait à cette exigence, un client normalement "vert" devient "bleu", un client normalement "orange"
					devient "vert", et le "rouge" devient orange.</br></br>
					Ecrire l'algorithme permettant de saisir les données nécessaires (sans contrôle de saisie) et de traiter ce problème.
					Avant de se lancer à corps perdu dans cet exercice, on pourra réfléchir un peu et s'apercevoir qu'il est plus simple
					qu'il n'en a l'air (cela s'appelle faire une analyse !) .&raquo;</p>
			</div>


			<div>
				<h3>PSEUDO-CODE</h3>

				<textarea class="txt_pseudocode">

Variables iUserAge iUserAccident iUserLicense iPolicyAge iPolicyPoint integer 

Début

Ecrire "Quel est votre âge?"
Lire iUserAge

Ecrire "Depuis combien d'année avez vous votre permis?"
Lire iUserLicense

Ecrire "Depuis combien d'années avez vous un contrat chez nous?"
Lire iPolicyAge

Ecrire "Combien avez vous eut d'accident responsable?"
Lire iUserAccident

Calcul du nombre de point du contrat d'assurance

SI iUserAge < 25 ALORS
	iPolicyPoint ← 1
	
SI iUserLicence < 2 ALORS
	iPolicyPoint ← iPolicyPoint+1
	
Prise en compte nombre accident
	iPolicyPoint ← iPolicyPoint+iUserAccident

Prise en compte bonnification ancieneté contrat
SI 	iPolicyAge > 5 ALORS
iPolicyPoint ← iPolicyPoint-1

SI iPolicyPoint >= 3 ALORS
	Ecrire "Nous ne pouvons pas vous assurer."

	SINONSI iPolicyPoint = 2 ALORS
		Ecrire "Vous avez un contrat Rouge."

			SINONSI iPolicyPoint = 1 ALORS
			    Ecrire "Vous avez un contrat Orange."

					SINONSI iPolicyPoint = 0 ALORS
					     Ecrire "Vous avez un contrat Vert."

							SINONSI iPolicyPoint = -1 ALORS
							Ecrire "Vous avez un contrat Bleu."
FINSI
				


Fin

				</textarea>




			</div>

			
			<div>
				<p>
					<button class="btn_green" onClick="showCode('div_jsform', 'btn_jsform')">CODE JavaScript VIA Formulaire</button>
					<button class="btn_pink" onClick="showCode('div_jquery', 'btn_jquery')">CODE JQuery</button>
					<button class="btn_black" onClick="showCode('div_php', 'btn_php')">CODE PHP</button>
				</p>
				
				<div id="div_jsform">
					<textarea class="tarea_green">

	function Exo_4_7_jsform()
	{
	
	// Variables iUserAge iUserAccident iUserLicense iPolicyAge iPolicyPoint integer
	
	let iUserAge, iUserLicense, iPolicyAge, iUserAccident, iPolicyPoint;
	
	// Début
	
	// Ecrire "Quel est votre âge?"
	// Lire iUserAge
	
	iUserAge = document.getElementById("iUserAge").value;
	
	// Ecrire "Depuis combien d'année avez vous votre permis?"
	// Lire iUserLicense
	
	iUserLicense = document.getElementById("iUserLicense").value;
	
	// Ecrire "Depuis combien d'années avez vous un contrat chez nous?"
	// Lire iPolicyAge
	
	iPolicyAge = document.getElementById("iPolicyAge").value;
	
	// Ecrire "Combien avez vous eut d'accident responsable?"
	// Lire iUserAccident
	
	iUserAccident = document.getElementById("iUserAccident").value;
	
	
	// Calcul du nombre de point du contrat d'assurance
	
	// SI iUserAge < 25 ALORS
	// 	iPolicyPoint ← 1
	
	if (iUserAge < 25)
		{
			iPolicyPoint = 1;
		}
				else
				{
					iPolicyPoint = 0;
				}
		
	// SI iUserLicence < 2 ALORS
	// 	iPolicyPoint ← iPolicyPoint+1
	
	if (iUserLicense < 2)
		{
		iPolicyPoint = iPolicyPoint + 1;
		}
		
	// Prise en compte nombre accident
	// 	iPolicyPoint ← iPolicyPoint+iUserAccident
		
		iPolicyPoint = iPolicyPoint + iUserAccident;
	
	
	// Prise en compte bonnification ancieneté contrat
	// SI 	iPolicyAge > 5 ALORS
	// iPolicyPoint ← iPolicyPoint-1
	
	if (iPolicyAge > 5)
		{
		iPolicyPoint = iPolicyPoint - 1;
		}
	
	// SI iPolicyPoint >= 3 ALORS
	// 	Ecrire "Nous ne pouvons pas vous assurer."
	
	// 	SINONSI iPolicyPoint = 2 ALORS
	// 		Ecrire "Vous avez un contrat Rouge."
	
	// 			SINONSI iPolicyPoint = 1 ALORS
	// 			    Ecrire "Vous avez un contrat Orange."
	
	// 					SINONSI iPolicyPoint = 0 ALORS
	// 					     Ecrire "Vous avez un contrat Vert."
	
	// 							SINONSI iPolicyPoint = -1 ALORS
	// 							Ecrire "Vous avez un contrat Bleu."
	// FINSI

	if (iPolicyPoint >= 3)
		{
			document.getElementById("sp_resultat_code").innerHTML ="Nous ne pouvons pas vous assurer.";
		}
	
			else if (iPolicyPoint == 2)
				{
					document.getElementById("sp_resultat_code").innerHTML ="Vous avez un contrat Rouge.";
				}
	
					else if (iPolicyPoint == 1)
						{
							document.getElementById("sp_resultat_code").innerHTML ="Vous avez un contrat Orange.";
						}
	
							else if (iPolicyPoint == 0)
								{
									document.getElementById("sp_resultat_code").innerHTML ="Vous avez un contrat Vert.";
								}
	
									else
										{
											document.getElementById("sp_resultat_code").innerHTML ="Vous avez un contrat bleu.";
										}
	
	
	// Fin
	
	}

					</textarea>
				</div>

				<div id="div_jquery">


					
					<textarea class="tarea_pink">

function Exo_4_7_jquery()
{

// Variables iUserAge iUserAccident iUserLicense iPolicyAge iPolicyPoint integer

var iUserAge, iUserLicense, iPolicyAge, iUserAccident , iPolicyPoint=0;

// Début

// Ecrire "Quel est votre âge?"
// Lire iUserAge

iUserAge = $("#iUserAge").val();

// Ecrire "Depuis combien d'année avez vous votre permis?"
// Lire iUserLicense

iUserLicense = $("#iUserLicense").val();

// Ecrire "Depuis combien d'années avez vous un contrat chez nous?"
// Lire iPolicyAge

iPolicyAge = $("#iPolicyAge").val();

// Ecrire "Combien avez vous eut d'accident responsable?"
// Lire iUserAccident

iUserAccident = $("#iUserAccident").val();


// // Calcul du nombre de point du contrat d'assurance

// SI iUserAge < 25 ALORS
// 	iPolicyPoint ← 1

if (iUserAge < 25)
    {
    iPolicyPoint = 1;
    }
            else
            {
                iPolicyPoint = 0;
            }
    
// SI iUserLicence < 2 ALORS
// 	iPolicyPoint ← iPolicyPoint+1

if (iUserLicense < 2)
    {
    iPolicyPoint = iPolicyPoint + 1;
    }
    
// Prise en compte bonnification ancieneté contrat
// SI 	iPolicyAge > 5 ALORS
// iPolicyPoint ← iPolicyPoint-1

if (iPolicyAge > 5)
    {
    iPolicyPoint = iPolicyPoint - 1;
    }

// Prise en compte nombre accident
// 	iPolicyPoint ← iPolicyPoint+iUserAccident
    
    iPolicyPoint = iPolicyPoint + iUserAccident;      

// SI iPolicyPoint >= 3 ALORS
// 	Ecrire "Nous ne pouvons pas vous assurer."

// 	SINONSI iPolicyPoint = 2 ALORS
// 		Ecrire "Vous avez un contrat Rouge."

// 			SINONSI iPolicyPoint = 1 ALORS
// 			    Ecrire "Vous avez un contrat Orange."

// 					SINONSI iPolicyPoint = 0 ALORS
// 					     Ecrire "Vous avez un contrat Vert."

// 							SINONSI iPolicyPoint = -1 ALORS
// 							Ecrire "Vous avez un contrat Bleu."
// FINSI
if (iPolicyPoint >= 3)
    {
    $("#sp_resultat_code").html("Nous ne pouvons pas vous assurer. ");
    }

        else if (iPolicyPoint == 2)
            {
                $("#sp_resultat_code").html("Vous avez un contrat Rouge. ");
            }

                else if (iPolicyPoint == 1)
                    {
                        $("#sp_resultat_code").html("Vous avez un contrat Orange. ");
                    }

                        else if (iPolicyPoint == 0)
                            {
                                $("#sp_resultat_code").html("Vous avez un contrat Vert. ");                                
                            }

                                else if (iPolicyPoint < 0)
                                    {
                                        $("#sp_resultat_code").html("Vous avez un contrat bleu. ");                                        
                                    }


// Fin

}

					</textarea>
				</div>

				<div id="div_php">
					<textarea class="tarea_black">

		$sMessage= "";

		// Variables iUserAge iUserAccident iUserLicense iPolicyAge iPolicyPoint integer 
		if (isset ($_POST["btn_php"]))
	{
					// Début
					
					// Ecrire "Quel est votre âge?"
					// Lire iUserAge
		$iUserAge = $_POST["iUserAge"];			
					// Ecrire "Depuis combien d'année avez vous votre permis?"
					// Lire iUserLicense
		$iUserLicense = $_POST["iUserLicense"];			
					// Ecrire "Depuis combien d'années avez vous un contrat chez nous?"
					// Lire iPolicyAge
		$iPolicyAge = $_POST["iPolicyAge"];			
					// Ecrire "Combien avez vous eut d'accident responsable?"
					// Lire iUserAccident
		$iUserAccident = $_POST["iUserAccident"];			
					// Calcul du nombre de point du contrat d'assurance
					
					// SI iUserAge < 25 ALORS
					// 	iPolicyPoint ← 1
					
		if ($iUserAge < 25)
					{
					$iPolicyPoint = 1;
					}
							else
							{
								$iPolicyPoint = 0;
							}
	
					// SI iUserLicence < 2 ALORS
					// 	iPolicyPoint ← iPolicyPoint+1
	
		if ($iUserLicense < 2)
			{
			$iPolicyPoint = $iPolicyPoint + 1;
			}			
						
					// Prise en compte nombre accident
					// 	iPolicyPoint ← iPolicyPoint+iUserAccident
		
		$iPolicyPoint = $iPolicyPoint + $iUserAccident;
					
					// Prise en compte bonnification ancieneté contrat
					// SI 	iPolicyAge > 5 ALORS
					// iPolicyPoint ← iPolicyPoint-1
	
		if ($iPolicyAge > 5)
			{
			$iPolicyPoint = $iPolicyPoint - 1;					
			}
	
					
					// SI iPolicyPoint >= 3 ALORS
					// 	Ecrire "Nous ne pouvons pas vous assurer."
					
					// 	SINONSI iPolicyPoint = 2 ALORS
					// 		Ecrire "Vous avez un contrat Rouge."
					
					// 			SINONSI iPolicyPoint = 1 ALORS
					// 				Ecrire "Vous avez un contrat Orange."
					
					// 					SINONSI iPolicyPoint = 0 ALORS
					// 						 Ecrire "Vous avez un contrat Vert."
					
					// 							SINONSI iPolicyPoint = -1 ALORS
					// 							Ecrire "Vous avez un contrat Bleu."
					// FINSI
		if ($iPolicyPoint >= 3)
			{
			$sMessage = "Nous ne pouvons pas vous assurer. ";
			}
	
				else if ($iPolicyPoint == 2)
					{
						$sMessage = "Vous avez un contrat Rouge. ";
					}
	
						else if ($iPolicyPoint == 1)
							{
								$sMessage = "Vous avez un contrat Orange. ";
							}
	
								else if ($iPolicyPoint == 0)
									{
										$sMessage = "Vous avez un contrat Vert. ";                                
									}
	
										else if ($iPolicyPoint < 0)
											{
												$sMessage = "Vous avez un contrat bleu. ";                                        
											}							
					
					
					// Fin
	
	}
		require "exo_7.html";

					</textarea>
				</div>
			</div>
			
			<div id="div_form_resultat">
				<div class="div_formulaire">
					<form action="exo_7.php" method="POST" name="formPHP">
						<p>Quel est votre âge?</p>
						<p><input type="text" name="iUserAge" id="iUserAge"></p>
						<p>Depuis combien d'année avez vous votre permis?</p>
						<p><input type="text" name="iUserLicense" id="iUserLicense"></p>
						<p>Depuis combien d'années avez vous un contrat chez nous?</p>
						<p><input type="text" name="iPolicyAge" id="iPolicyAge"></p>
						<p>Combien avez vous eut d'accident responsable?</p>
						<p><input type="text" name="iUserAccident" id="iUserAccident"></p>
						<p>
							<button class="btn_green" id="btn_jsform" onClick="Exo_4_7_jsform(); return false;">EXEC JavaScript VIA Formulaire</button>
							<button class="btn_pink" id="btn_jquery" onClick="Exo_4_7_jquery(); return false;">EXEC JQuery</button>
							<button class="btn_black" name="btn_php" id="btn_php">EXEC PHP</button>
						</p>
					</form>
				</div>
				<p>Ici mon résultat</p>
				<div class="div_resultat">
					
					<span id="sp_resultat_code"></span>
					
					<span><?php echo $sMessage; ?>
				</div>
			</div>
		</section>		
        <!--section end-->

        <!--footer start-->
        <footer>
			<?php include "../commun/footer.html" ?>
        </footer>
        <!--footer end-->
    </div>

</body>

</html>
